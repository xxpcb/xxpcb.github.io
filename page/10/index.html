<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>码农爱学习的博客</title><meta name="author" content="xxpcb"><meta name="copyright" content="xxpcb"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta property="og:type" content="website">
<meta property="og:title" content="码农爱学习的博客">
<meta property="og:url" content="http://xxpcb.gitee.io/page/10/index.html">
<meta property="og:site_name" content="码农爱学习的博客">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://xxpcb.gitee.io/img/logo.png">
<meta property="article:author" content="xxpcb">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://xxpcb.gitee.io/img/logo.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://xxpcb.gitee.io/page/10/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//s4.cnzz.com"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?f9c11fefaddf7b7687633a168777f8d9"; //- "https://hm.baidu.com/hm.js?true";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script type="text/javascript">document.write(unescape("%3Cspan style='display:none;' id='cnzz_stat_icon_1277776467'%3E%3C/span%3E%3Cscript src='https://s23.cnzz.com/z_stat.php%3Fid%3D1277776467%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '码农爱学习的博客',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2022-07-31 11:33:42'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const fontSizeVal = saveToLocal.get('global-font-size')
    if (fontSizeVal !== undefined) {
      document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
    }
    
    const detectApple = () => {
      if (GLOBAL_CONFIG_SITE.isHome && /iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/logo.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">138</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">93</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">28</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('/img/index-bg.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">码农爱学习的博客</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">码农爱学习的博客</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/xxpcb" target="_blank" title="Github"><i class="fab fa-github"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2019/11/29/Linux%E4%BF%A1%E5%8F%B7%E9%87%8F%E5%8F%8A%E5%87%BD%E6%95%B0/" title="Linux信号量及函数">     <img class="post_bg" src="/img/default-cover.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Linux信号量及函数"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/11/29/Linux%E4%BF%A1%E5%8F%B7%E9%87%8F%E5%8F%8A%E5%87%BD%E6%95%B0/" title="Linux信号量及函数">Linux信号量及函数</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2019-11-29T07:50:28.000Z" title="发表于 2019-11-29 15:50:28">2019-11-29</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Linux/">Linux</a></span></div><div class="content">信号量的概念信号量，或称信号灯，其原理是一种数据操作锁的概念，本身不具备数据交换的功能，它负责协调各个进程，保证保证两个或多个关键代码段不被并发调用，确保公共资源的合理使用。信号量分为单值和多值两种。


在信号的实际应用中，是不能只定义一个信号量的，而只能定义一个信号量集，其中包含一组信号量，同一信号量集中的信号量使用同一个引用ID，这样的设置是为了多个资源或同步操作的需要。每个信号量集都有一个与之对应的结构，其中记录了信号量集的各种信息，该结构定义为：
12345678struct semid_ds&#123;    struct ipc_perm sem_perm;   // operation permission struct    struct sem *sem_base;       // ptr to first semaphore in set    unsigned short sem_nsems;   // numbers of semaphore in set    time_t sem_otime;    // last semop time    time_ ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2019/11/28/Linux%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98%E5%8F%8A%E5%87%BD%E6%95%B0/" title="Linux共享内存及函数">     <img class="post_bg" src="/img/default-cover.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Linux共享内存及函数"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/11/28/Linux%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98%E5%8F%8A%E5%87%BD%E6%95%B0/" title="Linux共享内存及函数">Linux共享内存及函数</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2019-11-28T02:10:25.000Z" title="发表于 2019-11-28 10:10:25">2019-11-28</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Linux/">Linux</a></span></div><div class="content">共享内存的概念共享内存是指多个进程可以把一段内存共同的内存映射到自己的进程空间中，从而实现数据的共享和传输，它是存在与内核级别的一种资源，是所有进程间通信中方式最快的一种。


在shell环境下可以使用ipcs查看当前系统IPC中的状态，例如当前的电脑中：
1234567891011121314151617181920212223242526272829$ ipcs------ Message Queues --------key        msqid      owner      perms      used-bytes   messages------ Shared Memory Segments --------key        shmid      owner      perms      bytes      nattch     status0x00000000 2260992    deeplearni 600        524288     2          dest0x00000000 2490369    deeplearni 600     ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2019/11/27/Linux%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%E5%8F%8A%E5%87%BD%E6%95%B0/" title="Linux消息队列及函数">     <img class="post_bg" src="/img/default-cover.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Linux消息队列及函数"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/11/27/Linux%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%E5%8F%8A%E5%87%BD%E6%95%B0/" title="Linux消息队列及函数">Linux消息队列及函数</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2019-11-27T03:01:23.000Z" title="发表于 2019-11-27 11:01:23">2019-11-27</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Linux/">Linux</a></span></div><div class="content">消息队列的概念消息队列就是一个消息的链表，每个消息队列都有一个队列头，用结构struct  msg_queue来描述。队列头中包含了该队列的大量信息，包括消息队列的键值、用户ID、组ID、消息数目、读写进程ID等。其定义如下:     
        

123456789101112131415struct msg_queue&#123;    struct ipc_perm q_perm;    time_t q_stime;     // last msgsnd time    time_t q_rtime;     // last msgrcv time    time_t q_ctime;     // last change time    unsigned long q_cbytes;      // current number of bytes on queue    unsigned long q_qnum;        // number of message in queue    unsigned long q_qbytes;      // max nu ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2019/11/26/Linux%E5%91%BD%E5%90%8D%E7%AE%A1%E9%81%93%E5%8F%8A%E5%87%BD%E6%95%B0/" title="Linux命名管道及函数">     <img class="post_bg" src="/img/default-cover.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Linux命名管道及函数"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/11/26/Linux%E5%91%BD%E5%90%8D%E7%AE%A1%E9%81%93%E5%8F%8A%E5%87%BD%E6%95%B0/" title="Linux命名管道及函数">Linux命名管道及函数</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2019-11-26T13:35:18.000Z" title="发表于 2019-11-26 21:35:18">2019-11-26</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Linux/">Linux</a></span></div><div class="content">管道(pipe)应用的一大局限是没有名字，只能用于具有亲缘关系进程之间的通信。而命名管道，也称FIFO，实质是一种文件类型，通过FIFO可以用于任何两个进程间的通信。


命名管道的创建命令方式在shell中可以使用mkfifo命令创建一个命名管道，格式为：
1mkfifo [option] name

其中option选项用于选择创建FIFO的模式，使用形式为-m mode，mode为八进制模式，创建示例：
1mkfifo -m 666 myfifo

创建之后可以在当前文件间看到新建的文件。
函数方式FIFO管道可通过mkfifo()函数创建，函数原型为：
123#include &lt;sys/types.h&gt;#include &lt;sys/stat.h&gt;int mkfifo(const char *pathname, mode_t mode);

创建成功返回0，出错返回1。函数第一个参数为普通的路径名，即创建后FIFO文件的名字，第二个参数与打开普通文件的open函数中的mode参数相同。
如果要创建的FIFO文件已经存在，则会返回EEXIST错误，因此在创建前 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2019/11/25/Linux%E5%8C%BF%E5%90%8D%E7%AE%A1%E9%81%93%E5%8F%8A%E5%AE%9E%E4%BE%8B/" title="Linux匿名管道及实例">     <img class="post_bg" src="/img/default-cover.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Linux匿名管道及实例"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/11/25/Linux%E5%8C%BF%E5%90%8D%E7%AE%A1%E9%81%93%E5%8F%8A%E5%AE%9E%E4%BE%8B/" title="Linux匿名管道及实例">Linux匿名管道及实例</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2019-11-25T12:54:20.000Z" title="发表于 2019-11-25 20:54:20">2019-11-25</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Linux/">Linux</a></span></div><div class="content">匿名管道，也称管道，是Linux下最常见的进程间通信方式之一。匿名管道在系统中没有实名，它只是进程的一种资源，会随着进程的结束而被系统清除。


管道的创建与关闭Linux中使用pipe()函数创建一个匿名管道，其函数原型为：
12#include &lt;unistd.h&gt;int pipe(int fd[2]);

创建成功返回0，出错返回1。参数fd[2]是一个长度为2的文件描述符数组，fd[1]是写入端的文件描述符，fd[0]是读出端的文件描述符。
可以使用文件I/O函数read()和write()读管道进行读写，使用close()函数关闭管道两端。
示例，create_pipe.c:
12345678910111213141516171819202122#include&lt;unistd.h&gt;#include&lt;stdio.h&gt;#include&lt;stdlib.h&gt;int main(void)&#123;    int fd[2];    char str[256];    if((pipe(fd))&lt;0)    &#123;       ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2019/11/23/Linux%E4%BF%A1%E5%8F%B7%E7%A7%8D%E7%B1%BB%E4%B8%8E%E5%87%BD%E6%95%B0/" title="Linux信号种类与函数">     <img class="post_bg" src="/img/default-cover.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Linux信号种类与函数"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/11/23/Linux%E4%BF%A1%E5%8F%B7%E7%A7%8D%E7%B1%BB%E4%B8%8E%E5%87%BD%E6%95%B0/" title="Linux信号种类与函数">Linux信号种类与函数</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2019-11-23T12:20:51.000Z" title="发表于 2019-11-23 20:20:51">2019-11-23</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Linux/">Linux</a></span></div><div class="content">主要介绍：

Linux中的信号种类
信号操作的相关函数



Linux中的信号种类信号是一种进程间通信的方法，应用于异步事件的处理。信号的实质是一种软中断。
使用kill -l可以查看Linux系统中的所有信号，如下：
1234567891011121314deeplearning@deeplearning:~$ kill -l 1) SIGHUP       2) SIGINT       3) SIGQUIT      4) SIGILL       5) SIGTRAP 6) SIGABRT      7) SIGBUS       8) SIGFPE       9) SIGKILL     10) SIGUSR111) SIGSEGV     12) SIGUSR2     13) SIGPIPE     14) SIGALRM     15) SIGTERM16) SIGSTKFLT   17) SIGCHLD     18) SIGCONT     19) SIGSTOP     20) SIGTSTP21) SIGTTIN     22) SIGTTOU     2 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2019/11/16/IP%E5%9C%B0%E5%9D%80%E4%B8%8E%E5%AD%90%E7%BD%91%E5%88%92%E5%88%86/" title="IP地址与子网划分">     <img class="post_bg" src="/img/default-cover.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="IP地址与子网划分"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/11/16/IP%E5%9C%B0%E5%9D%80%E4%B8%8E%E5%AD%90%E7%BD%91%E5%88%92%E5%88%86/" title="IP地址与子网划分">IP地址与子网划分</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2019-11-16T08:01:28.000Z" title="发表于 2019-11-16 16:01:28">2019-11-16</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a></span></div><div class="content">IP地址是一个32位的二进制地址，被分为4个8位段（八位组）。人们不习惯使用32的二进制地址或8位的二进制八位组，所以IP地址最常用的表达形式是点分十进制形式。


IP地址分类IP地址中一部分是网络ID，另一部分是主机ID，地址分类系统把IP地址划分为不同的地址类：‘

A类地址：IP地址的前8位表示网络ID，后24位表示主机ID
B类地址：IP地址的前16位表示网络ID，后16位表示主机ID
C类地址：IP地址的前24位表示网络ID，后8位表示主机ID

使用的位数越多，包含的组合就越多，可知A类地址较少的网络ID，但每个网络都具有大量的可用主机ID。那计算机或路由器是如何将一个IP地址解释为A类、B类还是C类呢？其实二进制的前几位就是用来地址分类，如下表：



地址类
二进制的前几位
点分十进制的第一个字段
排除地址



A
0
0~127
10.0.0.010.255.255.255127.0.0.0127.255.255.255


B
10
128~191
172.16.0.0~173.31.255.255


C
110
192~223
192.168.0.0~192 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2019/11/12/makefile%E4%BD%BF%E7%94%A8%E5%9F%BA%E7%A1%80/" title="makefile使用基础">     <img class="post_bg" src="/img/default-cover.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="makefile使用基础"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/11/12/makefile%E4%BD%BF%E7%94%A8%E5%9F%BA%E7%A1%80/" title="makefile使用基础">makefile使用基础</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2019-11-12T02:32:44.000Z" title="发表于 2019-11-12 10:32:44">2019-11-12</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Linux/">Linux</a></span></div><div class="content">makefile就像一个Bash脚本，其中也可以执行操作系统的命令。makefile带来的好处就是——“自动化编译”，一旦写好，只需要一个make命令，整个工程完全自动编译，极大的提高了软件开发的效率。


例子源码sin_value.c
1234567891011#include &lt;stdio.h&gt;#include &lt;math.h&gt;#define pi 3.14159float angle;void sin_value(void)&#123;    float value;    value = sin ( angle / 180. * pi );    printf (&quot;\nThe Sin is: %5.2f\n&quot;,value);&#125;

cos_value.c
1234567891011#include &lt;stdio.h&gt;#include &lt;math.h&gt;#define pi 3.14159float angle;void cos_value(void)&#123;    float value;    v ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2019/11/12/gcc%E4%BD%BF%E7%94%A8%E5%9F%BA%E7%A1%80/" title="gcc使用基础">     <img class="post_bg" src="/img/default-cover.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="gcc使用基础"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/11/12/gcc%E4%BD%BF%E7%94%A8%E5%9F%BA%E7%A1%80/" title="gcc使用基础">gcc使用基础</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2019-11-12T02:32:03.000Z" title="发表于 2019-11-12 10:32:03">2019-11-12</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Linux/">Linux</a></span></div><div class="content">gcc 编译器是 Linux 下默认的 C/C++ 编译器，大部分 Linux 发行版中都是默认安装的。gcc 编译器通常以 Linux 命令的形式在终端（Shell/Bash）中使用。


单一源文件最基础用法hello.c代码如下：
12345#include &lt;stdio.h&gt;int main(void)&#123;    printf(&quot;Hello World!\n&quot;);&#125;

使用gcc编译：
1gcc hello.c

使用ls命令查看当前目录，多出一个a.out可执行文件，运行：
1./a.out

1Hello World!

注意：gcc编译源码，不加任何参数时，生成的可执行性文件默认为a.out，并且没有中间过程的目标文件。
生成目标文件&amp;自定义名称使用**-c参数**可以生成.o结尾的目标文件：
1gcc -c hello.c

使用ls命令查看当前目录，多出一个hello.o目标文件。
继续使用**-o参数**生成可执行文件，并自定义名称：
1gcc -o hello hello.o

其中 “hello” 是指定 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2019/11/11/Bash%E5%9F%BA%E7%A1%80%EF%BC%88%E4%BA%8C%EF%BC%89/" title="Bash基础（二）">     <img class="post_bg" src="/img/default-cover.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Bash基础（二）"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/11/11/Bash%E5%9F%BA%E7%A1%80%EF%BC%88%E4%BA%8C%EF%BC%89/" title="Bash基础（二）">Bash基础（二）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2019-11-11T07:29:23.000Z" title="发表于 2019-11-11 15:29:23">2019-11-11</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Linux/">Linux</a></span></div><div class="content">主要内容：

逻辑判断：test关键字
选择结构：if-else, case
循环结构：while-do, for



逻辑判断bash不仅可以进行数值运算，通过test关键字还可以进行逻辑判断。
数值大小的判断例如判断3是否大于2的大小：
1test 3 -gt 2; echo $?

10

注意：判断成立，返回0，不成立返回1。



参数
含义
助记



-gt
大于
greater than


-lt
小于
less than


-eq
等于
equal


-ne
不等于
not equal


-ge
大于等于
greater  equal


-le
小于等于
less equal


文本字符串的判断例如判断两文本是否相等：
1test abc = abx; echo $?

11

因为判断不成立，所以返回1。
另外注意：等号的两侧要有空格，否则就变成变量赋值了！



参数
含义



=
相等


!=
不相等


&gt;
字典顺序大于


&lt;
字典顺序小于


文件的判断例如判断文件是否存在：
1test -e a.out; echo $?

 ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/9/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/#content-inner">9</a><span class="page-number current">10</span><a class="page-number" href="/page/11/#content-inner">11</a><span class="space">&hellip;</span><a class="page-number" href="/page/14/#content-inner">14</a><a class="extend next" rel="next" href="/page/11/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/logo.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">xxpcb</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">138</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">93</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">28</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://gitee.com/xxpcb"><i class="fab fa-github"></i><span>Follow Me (gitee)</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/xxpcb" target="_blank" title="Github"><i class="fab fa-github"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">分享：单片机、嵌入式、ARM、Linux、C/C++、python等技术文章~ <img src="/img/wxgzh-card.png"></div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/07/31/%E5%B5%8C%E5%85%A5%E5%BC%8FQt-%E5%8A%A8%E6%89%8B%E7%BC%96%E5%86%99%E5%B9%B6%E8%BF%90%E8%A1%8C%E8%87%AA%E5%B7%B1%E7%9A%84%E7%AC%AC1%E4%B8%AAARM-Qt%E7%A8%8B%E5%BA%8F/" title="嵌入式Qt-动手编写并运行自己的第1个ARM-Qt程序"><img src="/../img/imx/qt2.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="嵌入式Qt-动手编写并运行自己的第1个ARM-Qt程序"/></a><div class="content"><a class="title" href="/2022/07/31/%E5%B5%8C%E5%85%A5%E5%BC%8FQt-%E5%8A%A8%E6%89%8B%E7%BC%96%E5%86%99%E5%B9%B6%E8%BF%90%E8%A1%8C%E8%87%AA%E5%B7%B1%E7%9A%84%E7%AC%AC1%E4%B8%AAARM-Qt%E7%A8%8B%E5%BA%8F/" title="嵌入式Qt-动手编写并运行自己的第1个ARM-Qt程序">嵌入式Qt-动手编写并运行自己的第1个ARM-Qt程序</a><time datetime="2022-07-31T03:28:33.000Z" title="发表于 2022-07-31 11:28:33">2022-07-31</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/07/31/STM32%E7%8A%B6%E6%80%81%E6%9C%BA%E7%BC%96%E7%A8%8B%E5%AE%9E%E4%BE%8B-%E5%85%A8%E8%87%AA%E5%8A%A8%E6%B4%97%E8%A1%A3%E6%9C%BA-%E4%B8%8B/" title="STM32状态机编程实例--全自动洗衣机(下)"><img src="/../img/stm32/8-washer2.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="STM32状态机编程实例--全自动洗衣机(下)"/></a><div class="content"><a class="title" href="/2022/07/31/STM32%E7%8A%B6%E6%80%81%E6%9C%BA%E7%BC%96%E7%A8%8B%E5%AE%9E%E4%BE%8B-%E5%85%A8%E8%87%AA%E5%8A%A8%E6%B4%97%E8%A1%A3%E6%9C%BA-%E4%B8%8B/" title="STM32状态机编程实例--全自动洗衣机(下)">STM32状态机编程实例--全自动洗衣机(下)</a><time datetime="2022-07-31T03:21:37.000Z" title="发表于 2022-07-31 11:21:37">2022-07-31</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/07/31/STM32%E7%8A%B6%E6%80%81%E6%9C%BA%E7%BC%96%E7%A8%8B%E5%AE%9E%E4%BE%8B-%E5%85%A8%E8%87%AA%E5%8A%A8%E6%B4%97%E8%A1%A3%E6%9C%BA-%E4%B8%8A/" title="STM32状态机编程实例--全自动洗衣机(上)"><img src="/../img/stm32/7-washer1.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="STM32状态机编程实例--全自动洗衣机(上)"/></a><div class="content"><a class="title" href="/2022/07/31/STM32%E7%8A%B6%E6%80%81%E6%9C%BA%E7%BC%96%E7%A8%8B%E5%AE%9E%E4%BE%8B-%E5%85%A8%E8%87%AA%E5%8A%A8%E6%B4%97%E8%A1%A3%E6%9C%BA-%E4%B8%8A/" title="STM32状态机编程实例--全自动洗衣机(上)">STM32状态机编程实例--全自动洗衣机(上)</a><time datetime="2022-07-31T03:21:19.000Z" title="发表于 2022-07-31 11:21:19">2022-07-31</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/07/11/STM32%E6%8C%89%E9%94%AE%E7%8A%B6%E6%80%81%E6%9C%BA3-%E5%A2%9E%E5%8A%A0%E5%8F%8C%E5%87%BB%E4%B8%8E%E5%8A%9F%E8%83%BD%E4%BC%98%E5%8C%96/" title="STM32按键状态机3--增加双击与功能优化"><img src="/../img/stm32/6-fsm3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="STM32按键状态机3--增加双击与功能优化"/></a><div class="content"><a class="title" href="/2022/07/11/STM32%E6%8C%89%E9%94%AE%E7%8A%B6%E6%80%81%E6%9C%BA3-%E5%A2%9E%E5%8A%A0%E5%8F%8C%E5%87%BB%E4%B8%8E%E5%8A%9F%E8%83%BD%E4%BC%98%E5%8C%96/" title="STM32按键状态机3--增加双击与功能优化">STM32按键状态机3--增加双击与功能优化</a><time datetime="2022-07-11T14:56:20.000Z" title="发表于 2022-07-11 22:56:20">2022-07-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/07/11/STM32%E6%8C%89%E9%94%AE%E7%8A%B6%E6%80%81%E6%9C%BA2-%E7%8A%B6%E6%80%81%E7%AE%80%E5%8C%96%E4%B8%8E%E5%A2%9E%E5%8A%A0%E9%95%BF%E6%8C%89%E5%8A%9F%E8%83%BD/" title="STM32按键状态机2--状态简化与增加长按功能"><img src="/../img/stm32/5-fsm2.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="STM32按键状态机2--状态简化与增加长按功能"/></a><div class="content"><a class="title" href="/2022/07/11/STM32%E6%8C%89%E9%94%AE%E7%8A%B6%E6%80%81%E6%9C%BA2-%E7%8A%B6%E6%80%81%E7%AE%80%E5%8C%96%E4%B8%8E%E5%A2%9E%E5%8A%A0%E9%95%BF%E6%8C%89%E5%8A%9F%E8%83%BD/" title="STM32按键状态机2--状态简化与增加长按功能">STM32按键状态机2--状态简化与增加长按功能</a><time datetime="2022-07-11T14:55:59.000Z" title="发表于 2022-07-11 22:55:59">2022-07-11</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/C-%E5%9F%BA%E7%A1%80/"><span class="card-category-list-name">C++基础</span><span class="card-category-list-count">7</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/C%E7%BC%96%E7%A8%8B%E5%B0%8F%E6%8A%80%E5%B7%A7/"><span class="card-category-list-name">C编程小技巧</span><span class="card-category-list-count">4</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/C%E8%AF%AD%E8%A8%80/"><span class="card-category-list-name">C语言</span><span class="card-category-list-count">5</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ESP8266/"><span class="card-category-list-name">ESP8266</span><span class="card-category-list-count">4</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/FreeRTOS/"><span class="card-category-list-name">FreeRTOS</span><span class="card-category-list-count">10</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/JAVA/"><span class="card-category-list-name">JAVA</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Linux/"><span class="card-category-list-name">Linux</span><span class="card-category-list-count">21</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Markdown/"><span class="card-category-list-name">Markdown</span><span class="card-category-list-count">2</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/%E6%97%8B%E8%BD%AC%E7%9F%A9%E9%98%B5/" style="font-size: 1.21em; color: rgb(31, 147, 141)">旋转矩阵</a><a href="/tags/Linux/" style="font-size: 1.45em; color: rgb(160, 37, 116)">Linux</a><a href="/tags/Bash/" style="font-size: 1.18em; color: rgb(52, 4, 13)">Bash</a><a href="/tags/C/" style="font-size: 1.36em; color: rgb(153, 34, 56)">C++</a><a href="/tags/STL/" style="font-size: 1.15em; color: rgb(13, 142, 175)">STL</a><a href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/" style="font-size: 1.18em; color: rgb(80, 15, 75)">多线程</a><a href="/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F/" style="font-size: 1.42em; color: rgb(32, 169, 132)">嵌入式</a><a href="/tags/C/" style="font-size: 1.21em; color: rgb(13, 177, 165)">C</a><a href="/tags/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/" style="font-size: 1.18em; color: rgb(153, 130, 23)">文件操作</a><a href="/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%88%87%E5%88%86/" style="font-size: 1.15em; color: rgb(194, 101, 48)">字符串切分</a><a href="/tags/float%E8%BD%AChex/" style="font-size: 1.15em; color: rgb(1, 158, 180)">float转hex</a><a href="/tags/2%E8%BF%9B%E5%88%B6%E6%A0%BC%E5%BC%8F%E8%BE%93%E5%87%BA/" style="font-size: 1.15em; color: rgb(51, 161, 54)">2进制格式输出</a><a href="/tags/FreeRTOS/" style="font-size: 1.33em; color: rgb(92, 186, 191)">FreeRTOS</a><a href="/tags/%E6%BB%A4%E6%B3%A2/" style="font-size: 1.15em; color: rgb(152, 121, 35)">滤波</a><a href="/tags/LeetCode/" style="font-size: 1.24em; color: rgb(50, 157, 39)">LeetCode</a><a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 1.3em; color: rgb(135, 25, 78)">算法</a><a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size: 1.3em; color: rgb(105, 111, 73)">计算机网络</a><a href="/tags/%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93/" style="font-size: 1.15em; color: rgb(34, 81, 35)">文件传输</a><a href="/tags/TFTP/" style="font-size: 1.15em; color: rgb(185, 166, 200)">TFTP</a><a href="/tags/GDB/" style="font-size: 1.15em; color: rgb(142, 116, 177)">GDB</a><a href="/tags/%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98/" style="font-size: 1.15em; color: rgb(60, 25, 145)">共享内存</a><a href="/tags/%E5%8C%BF%E5%90%8D%E7%AE%A1%E9%81%93/" style="font-size: 1.15em; color: rgb(41, 69, 126)">匿名管道</a><a href="/tags/%E5%91%BD%E5%90%8D%E7%AE%A1%E9%81%93/" style="font-size: 1.15em; color: rgb(152, 163, 106)">命名管道</a><a href="/tags/%E5%91%BD%E4%BB%A4/" style="font-size: 1.15em; color: rgb(28, 80, 142)">命令</a><a href="/tags/%E5%A7%BF%E6%80%81%E8%A7%A3%E7%AE%97/" style="font-size: 1.18em; color: rgb(64, 55, 125)">姿态解算</a><a href="/tags/DMP/" style="font-size: 1.15em; color: rgb(91, 98, 103)">DMP</a><a href="/tags/MPU6050/" style="font-size: 1.15em; color: rgb(45, 40, 123)">MPU6050</a><a href="/tags/%E6%AC%A7%E6%8B%89%E8%A7%92/" style="font-size: 1.18em; color: rgb(47, 61, 80)">欧拉角</a><a href="/tags/Markdown/" style="font-size: 1.18em; color: rgb(184, 180, 174)">Markdown</a><a href="/tags/%E6%8B%9F%E5%90%88/" style="font-size: 1.15em; color: rgb(21, 21, 131)">拟合</a><a href="/tags/TensorFlow/" style="font-size: 1.3em; color: rgb(178, 199, 150)">TensorFlow</a><a href="/tags/%E5%A1%AB%E5%9D%91/" style="font-size: 1.15em; color: rgb(55, 194, 69)">填坑</a><a href="/tags/JAVA/" style="font-size: 1.15em; color: rgb(42, 67, 19)">JAVA</a><a href="/tags/gcc/" style="font-size: 1.15em; color: rgb(35, 30, 22)">gcc</a><a href="/tags/hexo/" style="font-size: 1.15em; color: rgb(60, 174, 19)">hexo</a><a href="/tags/cJson/" style="font-size: 1.15em; color: rgb(162, 76, 185)">cJson</a><a href="/tags/ARM/" style="font-size: 1.39em; color: rgb(168, 144, 147)">ARM</a><a href="/tags/%E7%A7%BB%E6%A4%8D/" style="font-size: 1.27em; color: rgb(95, 31, 17)">移植</a><a href="/tags/makefile/" style="font-size: 1.15em; color: rgb(66, 98, 50)">makefile</a><a href="/tags/python/" style="font-size: 1.15em; color: rgb(49, 18, 190)">python</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/07/"><span class="card-archive-list-date">七月 2022</span><span class="card-archive-list-count">6</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/05/"><span class="card-archive-list-date">五月 2022</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/04/"><span class="card-archive-list-date">四月 2022</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/03/"><span class="card-archive-list-date">三月 2022</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/02/"><span class="card-archive-list-date">二月 2022</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/01/"><span class="card-archive-list-date">一月 2022</span><span class="card-archive-list-count">5</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/12/"><span class="card-archive-list-date">十二月 2021</span><span class="card-archive-list-count">8</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/11/"><span class="card-archive-list-date">十一月 2021</span><span class="card-archive-list-count">3</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">138</div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2022-07-31T03:33:41.639Z"></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/img/index-bg.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2022 By xxpcb</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="font-plus" type="button" title="放大字体"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="缩小字体"><i class="fas fa-minus"></i></button><button id="translateLink" type="button" title="简繁转换">简</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>function subtitleType () {
  getScript('https://sdk.jinrishici.com/v2/browser/jinrishici.js').then(() => {
    jinrishici.load(function (result) {
      if (true) {
        var sub = "欢迎访问本小站".length == 0 ? new Array() : "欢迎访问本小站".split(',')
        var content = result.data.content
        var both = sub.unshift(content)
        var typed = new Typed('#subtitle', {
          strings: sub,
          startDelay: 300,
          typeSpeed: 150,
          loop: false,
          backSpeed: 50,
        })
      } else {
        document.getElementById('subtitle').innerHTML = result.data.content
      }
    })
  })
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
  }
} else {
  subtitleType()
}
</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script></div></body></html>